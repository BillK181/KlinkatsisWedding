{% extends "base.html" %}

{% block title %}RSVP Statuses{% endblock %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/checkstatus.css') }}">
{% endblock %}

{% block content %}

<main>
  <h2 class="rsvp-title">RSVP Statuses</h2>

  <table class="rsvp-table">
    <thead>
      <tr>
        <th>Guest Name</th>
        <th>RSVP Status</th>
        <th>Dinner Choice</th>
        <th>Song Request</th>
        <th>Logins</th>
      </tr>
    </thead>
    <tbody>
      {% for guest in guests %}
      <tr>
        <td>{{ guest.name }}</td>
        <td>{{ guest.rsvp_status|capitalize if guest.rsvp_status else '—' }}</td>
        <td>{{ guest.dinner_option if guest.dinner_option else '—' }}</td>
        <td>{{ guest.song_request if guest.song_request else '—' }}</td>
        <td>{{ guest.login_count }}</td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot>
      <tr>
        <th>Totals</th>
        <th>
          Going: {{ rsvp_totals.going }}<br>
          Not Going: {{ rsvp_totals.not_going }}<br>
          <strong>Total: {{ rsvp_totals.total }}</strong>
        </th>
        <th>
          Chicken: {{ dinner_totals.Chicken }}<br>
          Beef: {{ dinner_totals.Beef }}<br>
          Vegetarian: {{ dinner_totals.Vegetarian }}<br>
          Vegan: {{ dinner_totals.Vegan }}<br>
          <strong>Total: {{ dinner_totals.total }}</strong>
        </th>
        <th>
          <h3>Song Requests:</h3>
          <ul>
            {% for song in song_request %}
              <li>{{ song }}</li>
            {% endfor %}
          </ul>
          <strong>Total Requests: {{ song_request|length }}</strong>
        </th>
        <th>
          <strong>Total Logins:</strong><br>{{ total_logins }}
        </th>
      </tr>
    </tfoot>
  </table>
</main>

{% endblock %}
